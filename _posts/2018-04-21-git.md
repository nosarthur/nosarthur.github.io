---
layout: post
title: Git for version control
date:   2018-04-21 10:00:08 -0500
categories: [coding]
comments: true
---

[Git](https://git-scm.com/) is a great tool to keep the sanity of text file editing.
Here I list my most used commands.

## basics

To interact with remote repo

```
git clone <remote location>
git fetch [branch]
git merge [branch]
git push
git pull [branch]
```

To see what's going on
```
git log
git diff --stat
git difftool
git branch
git remote -v
git blame <file name>
git status
```

To make changes
```
git add <file name>
git commit -am "<commit message>"
git commit -a --amend
git rebase [-i] [branch]
git cherry-pick <commit>
```

## clean up

```
git clean -dfx
git reset --hard <branch|commit>
git rm --cached [-r] <file/directory name>
```

## collaboration

Instead of sending files to coworkers, it's better to share a patch

```
git format-patch HEAD~
git am <patch-name>.patch
```

* `~` indicates ancestor
* `^` indicates parent (merge gives rise to multiple parents)
* `@<{n}>` indicates more fine-gained history

Note that `HEAD~3` is the same as `HEAD~~~` or `HEAD^^^`, which indicates the grand-grand ancestor.
However, it's not the same as `HEAD^3`, which indicates the 3rd immediate parent.

## ultimate life saver

Even if a commit no longer exists in `git log`,
e.g., after a `rebase` or `append`, we can still go back:

```
git reflog
git reset --hard HEAD@{<n>}
```

## other configurations

```
git config --global diff.tool vimdiff
git config --global merge.tool vimdiff
git config --global difftool.prompt false
```
